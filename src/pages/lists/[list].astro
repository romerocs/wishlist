---
import Layout from "../../layouts/Layout.astro";

import ListView from "../../components/ListView.vue";
import supabase from "../../utilities/supabase";

const { list: id } = Astro.params;

const { data: list, error } = await supabase
  .from("lists")
  .select(
    `
        *,
        list_items ( * )
        `
  )
  .limit(1)
  .eq("id", id)
  .single();

const title = list.list_name;
---

<Layout title={title}>
  <ListView client:only="vue" id={Number(id)} list={list} />
</Layout>
